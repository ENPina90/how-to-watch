<%= simple_form_for @list do |f| %>
  <%= f.input :name %>
  <%= f.input :ordered, as: :boolean %>
  <%= f.input :private, as: :boolean %>
  <%= f.input :reviewable, as: :boolean, label: 'Enable review prompts', hint: 'Ask for ratings and comments when marking entries as watched' %>
  <% if current_user&.can_set_default? %>
    <%= f.input :default, as: :boolean, label: 'Set as default list', hint: 'Default lists are visible to all users' %>
  <% end %>
  <%= f.input :sort, collection: ['Year', 'Genre', 'Watched', 'Type', 'Length'], include_blank: true %>
  <%= f.input :preferred_source, collection: [['Source 1', 1], ['Source 2', 2]], include_blank: false, label: 'Preferred Source', hint: 'Default source to use for entries in this list' %>
  <%= f.button :submit %>
<% end %>

<div class="mt-4 border-t pt-4">
  <h5>Bulk Actions</h5>
  <div class="d-flex gap-2">
    <%= link_to "Mark All Complete",
        mark_all_complete_list_path(@list),
        method: :patch,
        class: "btn btn-success btn-sm",
        data: {
          confirm: "Are you sure you want to mark all #{pluralize(@list.entries.count, 'entry')} in this list as complete?"
        } %>

    <%= link_to "Mark All Incomplete",
        mark_all_incomplete_list_path(@list),
        method: :patch,
        class: "btn btn-warning btn-sm",
        data: {
          confirm: "Are you sure you want to mark all #{pluralize(@list.entries.count, 'entry')} in this list as incomplete?"
        } %>
  </div>
</div>
