<div class="container" data-controller="search" data-search-id-value="<%= @list.id %>">
  <div class="row justify-content-center layout-title">
    <h1 class="text-center"><%= @list.name %></h1>
    <div class="col-2">
      <%= link_to 'Edit', edit_list_path(@list), class: 'btn btn-primary' %>
    </div>
    <div class="col-8" id="search">
      <%= form_with url: list_path(@list), method: :get, class: "d-flex" do %>
        <%= text_field_tag :query,
          params[:query],
          class: "form-control",
          data: { action: "keyup->search#entries", search_target: "input"},
          placeholder: "Find a movie"
        %>
        <%# <%= submit_tag "Search", class: "btn btn-primary" %>
      <% end %>
    </div>
    <div class="col-2">
      <%= link_to '+ Entry', new_list_entry_path(@list), class: 'btn btn-primary' %>
    </div>
    <ul class="menu">
      <li><%= link_to 'Year', list_path(@list, criteria: 'Year'), data: { action: "click->search#entries"} %></li>
      <li><%= link_to 'Rating', list_path(@list, criteria: 'Rating'), data: { action: "click->search#entries"} %></li>
      <li><%= link_to 'Genre', list_path(@list, criteria: 'Genre'), data: { action: "click->search#entries"} %></li>
      <li><%= link_to 'Watched', list_path(@list, criteria: 'Watched'), data: { action: "click->search#entries"} %></li>
      <li><%= link_to 'Media', list_path(@list, criteria: 'Media'), data: { action: "click->search#entries"} %></li>
      <li><%= link_to 'Length', list_path(@list, criteria: 'Length'), data: { action: "click->search#entries"} %></li>
    </ul>
  </div>
  <%= render "entries", list: @list, entries: @entries, sections: @sections, random_selection: @random_selection, list_entries: @list_entries%>
</div>
